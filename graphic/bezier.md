---
title: Bezier曲线
layout: math
---

# Bezier曲线

一条Bezier曲线由$n$个点定义：$P\_0, P\_1, \cdots, P\_n$。这里n的大小就代表了它的度数。这些点称为曲线的控制点。

$P\_0$和$P\_n$永远是Bezier曲线的起点和终点，但中间的点一般来说都不会在曲线上。

$n=1$时，Bezier曲线为直线。曲线方程是这样得到的：

$$
B(z)=(1-t)P_0+tP_1
$$

$n=2$时，将$P\_0$和$P\_1$之间的曲线，和$P\_1$和$P\_2$之间的曲线再做一次t权重：

$$
B(z)=(1-t)[(1-t)P_0+tP_1]+t[(1-t)P_1+tP_2]
$$

也就是说，随着$t$的变化，$A$点从$P\_0$匀速走到$P\_1$，$B$点从$P\_1$匀速走到$P\_2$，而$C$点从$A$匀速走到$B$，这里匀速指的是$CA$和$CB$的长度比例和$t$相等。$C$的轨迹为二阶Bezier曲线。二阶Bezier曲线是抛物线的一部分。

$n=3$时，类似地定义三阶Bezier曲线：$P\_0$, $P\_1$和$P\_2$定义第一条二阶曲线，$P\_1$, $P\_2$和$P\_3$定义第二条二阶曲线。而三阶曲线是这两条曲线的t权重组合。也就是说，随着$t$的变化，$A$沿着$P\_0,P\_1,P\_2$定义的二阶曲线走，$B$沿着$P\_1,P\_2,P\_3$定义的二阶曲线走，而$C$从$A$匀速走到$B$，$C$的轨迹为三阶Bezier曲线。

更高阶的Bezier曲线类似地定义。

以上是Bezier曲线的一种递归的描述。显式的公式为：

$$
B(t)=\sum_{i=0}^n\begin{pmatrix}n\\i\end{pmatrix}(1-t)^{n-i}t^iP_i
$$

Beizier曲线有如下常用性质：

* 从$P\_0$出发，到$P\_n$结束
* 出发的方向和$P\_0$到$P\_1$相同，结束的方向和$P\_{n-1}$到$P\_n$相同
* 一条Bezier曲线可以被任意切分，切分得到的片段仍然是Bezier曲线
* 圆是不能用Bezier曲线拼接出来的，但四条Bezier曲线可以拼出非常接近圆的图形
* 任何一个控制点的改变都会改变整条曲线所有点的位置

一般来说，计算机绘图程序都是用三阶Bezier曲线，指定两个控制点。更长更复杂的曲线用Bezier曲线拼接起来，整个图形就由$n+1$个连接点和$2n$个控制点组成。如果曲线要求平滑的话，每个拼接点处的两个控制点需要摆在拼接点两侧，和拼接点成一条直线。（参见Photoshop的钢笔工具。）
